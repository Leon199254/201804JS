<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>$珠峰培训$</title>
</head>
<body>
<div id='div1'>珠峰培训</div>
</body>
</html>
<script>

    /*发布订阅
    *
    *
    * */

    var ary = [];
    function on(fn) {
        ary.push(fn)
    }
    function fire() {
        ary.forEach((item)=>{
            item && item()
        })
    }
    function off(fn) {
        let n = ary.indexOf(fn);
        ary[n] = null;
    }
    function f1() {
        console.log(1)
    }
    function f2() {
        console.log(2)
    }
    function f3() {
        console.log(3)
    }

    on(f1);//订阅
    on(f2);//订阅
    on(f3);//订阅

    // fire();//发布
    window.setTimeout(function () {
        fire()
    },3000);

    off(f2);//取消订阅

    // fire();//发布

</script>  